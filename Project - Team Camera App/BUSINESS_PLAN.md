# ERGON WORK MANAGEMENT - BUSINESS PLAN

## 1. Î•ÎšÎ¤Î•Î›Î•Î£Î¤Î™ÎšÎ— Î Î•Î¡Î™Î›Î—Î¨Î—

### 1.1 Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® Î ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚
Î¤Î¿ **Ergon Work Management** ÎµÎ¯Î½Î±Î¹ Î¼Î¹Î± cross-platform mobile ÎµÏ†Î±ÏÎ¼Î¿Î³Î® (iOS, Android, Web) Î³Î¹Î± Ï„Î· Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î¿Î¼Î¬Î´Ï‰Î½ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚, projects ÎºÎ±Î¹ tasks. Î£Ï‡ÎµÎ´Î¹Î¬ÏƒÏ„Î·ÎºÎµ Î³Î¹Î± ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®ÏƒÎµÎ¹Ï‚ Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ field work management, ÏŒÏ€Ï‰Ï‚ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î±ÏƒÏ„Î¹ÎºÎ­Ï‚ ÎµÏ„Î±Î¹ÏÎµÎ¯ÎµÏ‚, Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ¬ Î³ÏÎ±Ï†ÎµÎ¯Î±, Ï„ÎµÏ‡Î½Î¹ÎºÎ­Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ ÎºÎ±Î¹ ÏƒÏ…Î½ÎµÏÎ³ÎµÎ¯Î±.

### 1.2 Value Proposition
- **Offline-First**: Î Î»Î®ÏÎ·Ï‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î± Ï‡Ï‰ÏÎ¯Ï‚ internet
- **Real-Time Sync**: Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î¿Ï‚ ÏƒÏ…Î³Ï‡ÏÎ¿Î½Î¹ÏƒÎ¼ÏŒÏ‚ ÏŒÏ„Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ WiFi
- **Î¡ÏŒÎ»Î¿Î¹ & Î”Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î±**: Î™ÎµÏÎ±ÏÏ‡Î¹ÎºÎ® Î´Î¿Î¼Î® (Founder â†’ Admin â†’ Supervisor â†’ User)
- **Î¦Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¹ÎºÎ® Î¤ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ·**: Î›Î®ÏˆÎ·, Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÎºÎ±Î¹ ÎºÎ¿Î¹Î½Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¹ÏÎ½
- **PDF Reports**: Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±Î½Î±Ï†Î¿ÏÏÎ½

### 1.3 Target Audience
| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® |
|-----------|-----------|
| ÎšÎ±Ï„Î±ÏƒÎºÎµÏ…Î±ÏƒÏ„Î¹ÎºÎ­Ï‚ Î•Ï„Î±Î¹ÏÎµÎ¯ÎµÏ‚ | Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î­ÏÎ³Ï‰Î½, ÎµÏÎ³Î¿Ï„Î±Î¾Î¯Ï‰Î½, ÏƒÏ…Î½ÎµÏÎ³ÎµÎ¯Ï‰Î½ |
| Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ¬ Î“ÏÎ±Ï†ÎµÎ¯Î± | Î•Ï€Î¹Î²Î»Î­ÏˆÎµÎ¹Ï‚, Î±Ï…Ï„Î¿ÏˆÎ¯ÎµÏ‚, Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ· |
| Î¤ÎµÏ‡Î½Î¹ÎºÎ­Ï‚ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ | Î£Ï…Î½Ï„Î®ÏÎ·ÏƒÎ·, ÎµÏ€Î¹ÏƒÎºÎµÏ…Î­Ï‚, Î­Î»ÎµÎ³Ï‡Î¿Î¹ |
| Property Management | Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î±ÎºÎ¹Î½Î®Ï„Ï‰Î½, ÎµÏ€Î¹Î¸ÎµÏ‰ÏÎ®ÏƒÎµÎ¹Ï‚ |
| Facility Management | Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎºÏ„Î¹ÏÎ¹Î±ÎºÏÎ½ ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î¬ÏƒÎµÏ‰Î½ |

---

## 2. Î”ÎŸÎœÎ— Î•Î¦Î‘Î¡ÎœÎŸÎ“Î—Î£

### 2.1 Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¹ÎºÏŒ Stack
| Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯Î± | Î§ÏÎ®ÏƒÎ· |
|------------|-------|
| React Native (Expo SDK 54) | Cross-platform development |
| TypeScript | Type-safe ÎºÏÎ´Î¹ÎºÎ±Ï‚ |
| Firebase Auth | Authentication |
| Firestore | NoSQL Database |
| AsyncStorage | Local caching & offline queue |
| Expo Router | File-based navigation |
| React Native SVG | Drawing & annotations |
| React Native View Shot | Canvas capture |
| Expo Location | GPS coordinates |
| Expo AV | Video playback |
| Expo FileSystem | File operations & base64 |
| NetInfo | Network status monitoring |
| Expo Print | PDF generation |
| Expo Sharing | Native share functionality |

### 2.2 Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MOBILE APP                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Screens   â”‚  â”‚  Components â”‚  â”‚   Context   â”‚         â”‚
â”‚  â”‚  (app/*.tsx)â”‚  â”‚             â”‚  â”‚ (SyncContextâ”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                â”‚                â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚              AsyncStorage (Cache)              â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIREBASE BACKEND                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Auth       â”‚  â”‚  Firestore  â”‚  â”‚  Storage    â”‚        â”‚
â”‚  â”‚  (Users)    â”‚  â”‚  (Data)     â”‚  â”‚  (Files)    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. FIRESTORE DATABASE SCHEMA

### 3.1 Collection: `users`
```javascript
users/{userId}
â”œâ”€â”€ fullname: string
â”œâ”€â”€ email: string
â”œâ”€â”€ phone: string
â”œâ”€â”€ avatar: string | null
â””â”€â”€ createdAt: timestamp
```

### 3.2 Collection: `teams`
```javascript
teams/{teamId}
â”œâ”€â”€ name: string
â”œâ”€â”€ type: string
â”œâ”€â”€ contactEmail: string
â”œâ”€â”€ logo: string | null (base64)
â”œâ”€â”€ createdAt: timestamp
â”œâ”€â”€ memberIds: string[]
â”œâ”€â”€ roles: {
â”‚   [userId]: "Founder" | "Admin" | "Supervisor" | "User"
â”‚ }
â””â”€â”€ groups: [
    {
      id: string,
      title: string,
      projects: [
        {
          id: string,
          title: string,
          status: "active" | "pending" | "completed",
          supervisors: string[],
          members: string[]
        }
      ]
    }
  ]
```

### 3.3 Collection: `projects`
```javascript
projects/{projectId}
â”œâ”€â”€ title: string
â”œâ”€â”€ status: "active" | "pending" | "completed"
â”œâ”€â”€ teamId: string
â”œâ”€â”€ supervisors: string[]
â”œâ”€â”€ members: string[]
â”œâ”€â”€ createdBy: string
â”œâ”€â”€ createdAt: timestamp
â””â”€â”€ tasks: Task[]  // Discriminated Union (see Task Types below)
```

**Task Types (Discriminated Union):**

Î¤Î¿ Task schema Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ **Discriminated Union Types** Î³Î¹Î± type-safe data structure Ï‡Ï‰ÏÎ¯Ï‚ unused fields:

```typescript
// Common GeoPoint Type
type GeoPoint = {
  lat: number;
  lng: number;
}

// Photo Task - Contains images array Î¼Îµ GPS locations
type PhotoTask = {
  id: string;
  title: string;
  description?: string;
  type: "photo";                    // Discriminator
  status: "pending" | "completed";
  images: string[];                 // Base64 encoded images
  imageLocations: GeoPoint[];       // GPS for each image
  isLocal?: boolean;
}

// Video Task - Contains single video URI
type VideoTask = {
  id: string;
  title: string;
  description?: string;
  type: "video";                    // Discriminator
  status: "pending" | "completed";
  value: string;                    // Base64 video URI
  isLocal?: boolean;
}

// Measurement Task - Contains numeric/text value
type MeasurementTask = {
  id: string;
  title: string;
  description?: string;
  type: "measurement";              // Discriminator
  status: "pending" | "completed";
  value: string;                    // Measurement value
  isLocal?: boolean;
}

// General Task - Contains text notes
type GeneralTask = {
  id: string;
  title: string;
  description?: string;
  type: "general";                  // Discriminator
  status: "pending" | "completed";
  value: string;                    // Text content
  isLocal?: boolean;
}

// Union Type
type Task = PhotoTask | VideoTask | MeasurementTask | GeneralTask;
```

**Î Î»ÎµÎ¿Î½ÎµÎºÏ„Î®Î¼Î±Ï„Î± Discriminated Unions:**
- âœ… Type-safe: TypeScript ÎµÎ¾Î±ÏƒÏ†Î±Î»Î¯Î¶ÎµÎ¹ ÏƒÏ‰ÏƒÏ„Î® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ properties
- âœ… No unused fields: ÎšÎ¬Î¸Îµ task type Î­Ï‡ÎµÎ¹ Î¼ÏŒÎ½Î¿ Ï„Î± fields Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹
- âœ… Clear semantics: ÎŸ Ï„ÏÏ€Î¿Ï‚ Ï„Î¿Ï… task ÎºÎ±Î¸Î¿ÏÎ¯Î¶ÎµÎ¹ Ï„Î± available properties
- âœ… Better IntelliSense: Auto-complete Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Î¼ÏŒÎ½Î¿ valid properties

### 3.4 Collection: `invites`
```javascript
invites/{inviteId}
â”œâ”€â”€ code: string (6 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚)
â”œâ”€â”€ teamId: string
â”œâ”€â”€ teamName: string
â”œâ”€â”€ role: "Admin" | "Supervisor" | "User"
â”œâ”€â”€ createdBy: string
â”œâ”€â”€ createdAt: timestamp
â””â”€â”€ status: "active" | "used" | "expired"
```

---

## 4. Î¡ÎŸÎ›ÎŸÎ™ & Î”Î™ÎšÎ‘Î™Î©ÎœÎ‘Î¤Î‘

### 4.1 Î™ÎµÏÎ±ÏÏ‡Î¯Î± Î¡ÏŒÎ»Ï‰Î½

| Î¡ÏŒÎ»Î¿Ï‚ | Î•Ï€Î¯Ï€ÎµÎ´Î¿ | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® |
|-------|---------|-----------|
| **Founder** | 1 | Î™Î´ÏÏ…Ï„Î®Ï‚ Î¿Î¼Î¬Î´Î±Ï‚, Ï€Î»Î®ÏÎ· Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± |
| **Admin** | 2 | Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚, ÏƒÏ‡ÎµÎ´ÏŒÎ½ Ï€Î»Î®ÏÎ· Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± |
| **Supervisor** | 3 | Î•Ï€ÏŒÏ€Ï„Î·Ï‚, Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· projects & users |
| **User** | 4 | Î‘Ï€Î»ÏŒÏ‚ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚, ÎµÎºÏ„Î­Î»ÎµÏƒÎ· tasks |

### 4.2 Î Î¯Î½Î±ÎºÎ±Ï‚ Î”Î¹ÎºÎ±Î¹Ï‰Î¼Î¬Ï„Ï‰Î½

| Î•Î½Î­ÏÎ³ÎµÎ¹Î± | Founder | Admin | Supervisor | User |
|----------|---------|-------|------------|------|
| Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎŸÎ¼Î¬Î´Î±Ï‚ | âœ… | âŒ | âŒ | âŒ |
| Î‘Î»Î»Î±Î³Î® ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚/Logo | âœ… | âœ… | âŒ | âŒ |
| Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Group | âœ… | âœ… | âŒ | âŒ |
| Î”Î¹Î±Î³ÏÎ±Ï†Î® Group | âœ… | âœ… | âŒ | âŒ |
| Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Project | âœ… | âœ… | âœ… | âŒ |
| Î”Î¹Î±Î³ÏÎ±Ï†Î® Project | âœ… | âœ… | âœ… | âŒ |
| Î‘Î½Î¬Î¸ÎµÏƒÎ· Supervisors | âœ… | âœ… | âŒ | âŒ |
| Î‘Î½Î¬Î¸ÎµÏƒÎ· Members | âœ… | âœ… | âœ… | âŒ |
| Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· Admin | âœ… | âœ… | âŒ | âŒ |
| Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· Supervisor | âœ… | âœ… | âŒ | âŒ |
| Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· User | âœ… | âœ… | âœ… | âŒ |
| Promote User | âœ… | âœ… | âŒ | âŒ |
| Demote User | âœ… | âœ… | âŒ | âŒ |
| Kick User | âœ… | âœ… | âœ…* | âŒ |
| Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Task | âœ… | âœ… | âœ… | âœ… |
| ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· Task | âœ… | âœ… | âœ… | âœ… |
| Î ÏÎ¿Î²Î¿Î»Î® ÏŒÎ»Ï‰Î½ Projects | âœ… | âœ… | âœ… | âŒ |
| Î ÏÎ¿Î²Î¿Î»Î® assigned Projects | âœ… | âœ… | âœ… | âœ… |

*Supervisor Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎºÎ¬Î½ÎµÎ¹ kick Î¼ÏŒÎ½Î¿ Users (ÏŒÏ‡Î¹ Supervisors/Admins)

---

## 5. Î›Î•Î™Î¤ÎŸÎ¥Î¡Î“Î™ÎšÎŸÎ¤Î—Î¤Î•Î£

### 5.1 Authentication
- Email/Password Login & Registration
- Persistent session Î¼Îµ AsyncStorage
- Auto-redirect Î²Î¬ÏƒÎµÎ¹ auth state

### 5.2 Team Management
- Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î¿Î¼Î¬Î´Î±Ï‚ Î¼Îµ ÏŒÎ½Î¿Î¼Î±, Ï„ÏÏ€Î¿, email ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±Ï‚
- Î‘Î»Î»Î±Î³Î® logo (image picker Î¼Îµ compression)
- Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î¼ÎµÎ»ÏÎ½ (promote, demote, kick)
- Real-time updates Î¼Îµ Firestore listeners

### 5.3 Invite System
- Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± 6-ÏˆÎ®Ï†Î¹Î¿Ï… ÎºÏ‰Î´Î¹ÎºÎ¿Ï Ï€ÏÏŒÏƒÎºÎ»Î·ÏƒÎ·Ï‚
- Î•Ï€Î¹Î»Î¿Î³Î® ÏÏŒÎ»Î¿Ï… Î½Î­Î¿Ï… Î¼Î­Î»Î¿Ï…Ï‚
- 2 Î»ÎµÏ€Ï„Î¬ expiration time
- Deep linking support (ergonwork://join?inviteCode=XXXXXX)
- One-time use (Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÏ„Î±Î¹ Î¼ÎµÏ„Î¬ Ï„Î· Ï‡ÏÎ®ÏƒÎ·)

### 5.4 Project Management
- ÎŸÏÎ³Î¬Î½Ï‰ÏƒÎ· ÏƒÎµ Groups
- Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± projects Î¼Îµ Ï„Î¯Ï„Î»Î¿
- Î‘Î½Î¬Î¸ÎµÏƒÎ· Supervisors & Members
- ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ project Î¼ÎµÏ„Î±Î¾Ï groups
- Auto-complete ÏŒÏ„Î±Î½ ÏŒÎ»Î± Ï„Î± tasks Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸Î¿ÏÎ½

### 5.5 Task Management
- Î¤Î­ÏƒÏƒÎµÏÎ¹Ï‚ Ï„ÏÏ€Î¿Î¹ tasks:
  - **Photo**: Î›Î®ÏˆÎ· ÎºÎ±Î¹ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¹ÏÎ½ Î¼Îµ GPS coordinates
  - **Video**: Î’Î¯Î½Ï„ÎµÎ¿ Î­Ï‰Ï‚ 4 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î± (max 900KB)
  - **Measurement**: ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î® Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½
  - **General**: ÎšÎµÎ¯Î¼ÎµÎ½Î¿/ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚
- Task descriptions (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ Ï€ÎµÎ´Î¯Î¿ ÎºÎµÎ¹Î¼Î­Î½Î¿Ï…)
- Progress tracking (pending â†’ completed)
- Task editing (Ï„Î¯Ï„Î»Î¿Ï‚, Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î®, Ï„ÏÏ€Î¿Ï‚)
- Long press Î³Î¹Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±/Î´Î¹Î±Î³ÏÎ±Ï†Î®
- Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· ÏŒÏ„Î±Î½ Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸ÎµÎ¯ media (photo/video)

### 5.6 Offline Support
- Cache Î¼Îµ AsyncStorage
- Offline queue Î³Î¹Î± pending uploads
- Auto-sync ÏƒÎµ WiFi connection
- Manual sync Î¼Îµ cellular data confirmation
- Visual indicator Î³Î¹Î± local tasks ("Î¤Î¿Ï€Î¹ÎºÏŒ" badge)
- Sync button Î¼Îµ cloud icon ÏŒÏ„Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ pending tasks
- Real-time network monitoring Î¼Îµ NetInfo

### 5.7 PDF Reports
- Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±Î½Î±Ï†Î¿ÏÎ¬Ï‚ Î¼Îµ Ï€ÏÎ¿Î·Î³Î¼Î­Î½Î¿ styling
- Summary cards (total tasks, completed, status)
- Î Î¯Î½Î±ÎºÎ±Ï‚ tasks Î¼Îµ:
  - Task type icons (ğŸ“· ğŸ“¹ ğŸ“ ğŸ“)
  - Descriptions
  - Color-coded status badges
  - Media count indicators
- Gallery section Î¼Îµ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚ ÎºÎ±Î¹ Î²Î¯Î½Ï„ÎµÎ¿
- Project metadata (ID, timestamp)
- Professional layout Î¼Îµ Inter font
- Share functionality (PDF export)

### 5.8 Advanced Image Editor
- Drawing/annotation tools Î¼Îµ pen
- Pan & zoom capabilities (1x Î­Ï‰Ï‚ 3x)
- Color selection (6 Ï‡ÏÏÎ¼Î±Ï„Î±: ÎºÏŒÎºÎºÎ¹Î½Î¿, ÎºÎ¯Ï„ÏÎ¹Î½Î¿, Ï€ÏÎ¬ÏƒÎ¹Î½Î¿, Î¼Ï€Î»Îµ, Î¬ÏƒÏ€ÏÎ¿, Î¼Î±ÏÏÎ¿)
- Stroke width options (3px, 6px, 10px)
- Undo functionality
- Reset/clear all drawings
- Native crop on capture
- Smooth gesture handling Î¼Îµ PanResponder
- ViewShot integration Î³Î¹Î± image capture
- Real-time SVG path rendering

### 5.9 Location Services
- GPS coordinates attached to images
- Location tracking Î¼Îµ expo-location (Accuracy.Balanced)
- Location display in media viewer
- Google Maps integration Î¼Îµ deep linking
- Fallback handling Î³Î¹Î± offline GPS
- Location validation (check for 0,0 defaults)

### 5.10 Media Management
- Photo & Video gallery viewer
- Media sharing (native share sheet)
- Media deletion Î¼Îµ confirmation
- Video playback Î¼Îµ native controls
- Image compression (800px width, 40% quality)
- Base64 encoding Î³Î¹Î± offline storage
- File system caching Î³Î¹Î± sharing
- Index-based media organization Î¼Îµ location sync

### 5.11 Auto-Complete Projects
- Automatic status update ÏƒÎµ "completed" ÏŒÏ„Î±Î½ ÏŒÎ»Î± Ï„Î± tasks Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸Î¿ÏÎ½
- Reverse update ÏƒÎµ "active" Î±Î½ ÎºÎ¬Ï€Î¿Î¹Î¿ task Î³Î¯Î½ÎµÎ¹ pending
- Real-time status tracking Î¼Îµ useEffect
- Firestore sync Î³Î¹Î± project status changes

### 5.12 Project Search & Filter (v1.1.0)
**Î‘ÏÏ‡ÎµÎ¯Î¿:** `app/team/[id].tsx`

#### Features:
- **Search Bar**: Real-time filtering by project title
  - Always visible at top of screen
  - Case-insensitive search
  - Clear button (X icon) when text entered
- **Status Filter**: Bottom Sheet Modal
  - 4 options: All, Active, Pending, Completed
  - Visual badges Î¼Îµ Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ® ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·
  - Radio button selection
- **Filter Persistence**: AsyncStorage per team
  - Filters saved automatically on change
  - Restored on app launch
- **Visual Indicators**:
  - Blue badge dot on filter icon when active
  - Active filter button styling

#### Filter Pipeline:
```
1. Role-based filter (Users see only assigned projects)
   â†“
2. Status filter (if statusFilter !== "all")
   â†“
3. Search filter (if searchQuery.trim())
```

#### UX Benefits:
- Instant project discovery ÏƒÎµ Î¼ÎµÎ³Î¬Î»ÎµÏ‚ Î¿Î¼Î¬Î´ÎµÏ‚
- Quick status overview
- Persistent filters = faster workflow

### 5.13 3-Stage Project Status (v1.1.0)
**Î‘ÏÏ‡ÎµÎ¯Î¿:** `app/project/[id].tsx`

#### Status States:
| Status | Icon | Condition | Badge Color |
|--------|------|-----------|-------------|
| **active** | ğŸ“‹ | 0% tasks completed | Blue (#2563eb) |
| **pending** | â³ | 1-99% tasks completed | Orange (#d97706) |
| **completed** | âœ… | 100% tasks completed | Green (#16a34a) |

#### Auto-Transition Logic:
- **Active â†’ Pending**: ÎŒÏ„Î±Î½ Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸ÎµÎ¯ Ï„Î¿ 1Î¿ task
- **Pending â†’ Completed**: ÎŒÏ„Î±Î½ Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸ÎµÎ¯ Ï„Î¿ Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î¿ task
- **Completed â†’ Pending**: ÎŒÏ„Î±Î½ task Î³Î¯Î½ÎµÎ¹ pending (photo delete)
- **Pending â†’ Active**: ÎŒÏ„Î±Î½ ÏŒÎ»Î± Ï„Î± completed tasks Î³Î¯Î½Î¿Ï…Î½ pending

#### Implementation:
- Real-time calculation Î¼Îµ `useEffect` on task changes
- Firestore automatic sync
- Cache update Î³Î¹Î± offline consistency
- Visual feedback Î¼Îµ status badges

#### Business Value:
- Clear project progress visibility
- Automatic workflow tracking
- No manual status updates needed
- Better team coordination

### 5.14 Role Change Cleanup (v1.1.0)
**Î‘ÏÏ‡ÎµÎ¯Î¿:** `app/team/[id].tsx` â†’ `changeUserRole()`

#### Functionality:
ÎŒÏ„Î±Î½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Î¿ ÏÏŒÎ»Î¿Ï‚ ÎµÎ½ÏŒÏ‚ Ï‡ÏÎ®ÏƒÏ„Î·, Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î±Ï†Î±Î¹ÏÎµÎ¯Ï„Î±Î¹ Î±Ï€ÏŒ project arrays:

#### Cleanup Rules:
| Role Change | Action | Result |
|-------------|--------|--------|
| User â†’ Supervisor | Remove from `members[]` | Manual re-assignment needed |
| Supervisor â†’ User | Remove from `supervisors[]` | Manual re-assignment needed |
| Supervisor â†’ Admin | Remove from `supervisors[]` | Admin has automatic access |
| Admin â†’ Supervisor | No action | Admins never in arrays |

#### Design Philosophy:
- **No Auto-Assignment**: Prevents unwanted access
- **Manual Control**: Admins explicitly assign users to projects
- **Granular Permissions**: Per-project assignment
- **Hierarchy Respect**:
  - Admins & Founders: Automatic access (not in arrays)
  - Supervisors & Users: Manual per-project assignment

#### Technical Implementation:
```typescript
// Batch update all team projects
const q = query(collection(db, "projects"), where("teamId", "==", teamId));
const querySnapshot = await getDocs(q);

// Remove user from appropriate array based on role change
updatePromises.map(projectDoc => {
  if (oldRole === "User") return updateDoc({ members: arrayRemove(userId) });
  if (oldRole === "Supervisor") return updateDoc({ supervisors: arrayRemove(userId) });
  // ... etc
});
```

#### Benefits:
- Clean project membership lists
- Clear audit trail of assignments
- Prevents permission escalation bugs
- Supports dynamic team restructuring

---

## 6. BUSINESS MODEL

### 6.1 Freemium Model

| Tier | Î¤Î¹Î¼Î® | Features |
|------|------|----------|
| **Free** | 0â‚¬/Î¼Î®Î½Î± | 1 Î¿Î¼Î¬Î´Î±, 3 Î¼Î­Î»Î·, 5 projects |
| **Starter** | 9.99â‚¬/Î¼Î®Î½Î± | 1 Î¿Î¼Î¬Î´Î±, 10 Î¼Î­Î»Î·, 20 projects |
| **Business** | 29.99â‚¬/Î¼Î®Î½Î± | 3 Î¿Î¼Î¬Î´ÎµÏ‚, 50 Î¼Î­Î»Î·, unlimited projects |
| **Enterprise** | Custom | Unlimited, custom features, support |

### 6.2 Revenue Streams
1. **Subscriptions**: ÎœÎ·Î½Î¹Î±Î¯ÎµÏ‚/ÎµÏ„Î®ÏƒÎ¹ÎµÏ‚ ÏƒÏ…Î½Î´ÏÎ¿Î¼Î­Ï‚
2. **Storage Add-ons**: Î•Ï€Î¹Ï€Î»Î­Î¿Î½ Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„Î¹ÎºÏŒÏ‚ Ï‡ÏÏÎ¿Ï‚
3. **White Label**: Custom branding Î³Î¹Î± Î¼ÎµÎ³Î¬Î»ÎµÏ‚ ÎµÏ„Î±Î¹ÏÎµÎ¯ÎµÏ‚
4. **API Access**: Integration Î¼Îµ Ï„ÏÎ¯Ï„Î± ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î±

---

## 7. ROADMAP

### Phase 1 - MVP (Current)
- [x] Authentication
- [x] Team creation & management
- [x] Invite system
- [x] Project & task management
- [x] Photo tasks Î¼Îµ GPS coordinates
- [x] Video tasks (4-second max)
- [x] Advanced image editor Î¼Îµ drawing/annotations
- [x] Offline support Î¼Îµ cellular confirmation
- [x] PDF reports Î¼Îµ advanced layout
- [x] Task descriptions
- [x] Task editing & deletion
- [x] Media sharing
- [x] Location tracking
- [x] Auto-complete projects
- [x] Web support
- [x] Project search & filter (v1.1.0)
- [x] 3-stage project status (v1.1.0)
- [x] Role change cleanup logic (v1.1.0)

### Phase 2 - Enhanced Features
- [ ] Push notifications
- [ ] Task comments & mentions
- [ ] Task deadlines & reminders
- [ ] File attachments (PDFs, docs)
- [ ] Calendar view
- [ ] Extended video duration (>4s)
- [ ] Cloud storage integration

### Phase 3 - Advanced
- [ ] Analytics dashboard
- [ ] Time tracking
- [ ] Voice notes
- [ ] Multi-language support

### Phase 4 - Enterprise
- [ ] LDAP/SSO integration
- [ ] Custom workflows
- [ ] API for integrations
- [ ] Advanced reporting
- [ ] Multi-language support

---

## 8. Î‘ÎÎ¤Î‘Î“Î©ÎÎ™Î£Î¤Î™ÎšÎŸ Î Î›Î•ÎŸÎÎ•ÎšÎ¤Î—ÎœÎ‘

| Feature | Ergon | Competitor A | Competitor B |
|---------|-------|--------------|--------------|
| Offline-First | âœ… | âš ï¸ Limited | âŒ |
| Photo Documentation | âœ… | âœ… | âš ï¸ |
| Real-time Sync | âœ… | âœ… | âœ… |
| Role Hierarchy | âœ… 4 levels | âš ï¸ 2 levels | âš ï¸ 2 levels |
| One-time Invite Codes | âœ… | âŒ | âŒ |
| PDF Reports | âœ… | âœ… | âŒ |
| Cross-platform | âœ… | âš ï¸ iOS only | âœ… |
| Greek Localization | âœ… Native | âŒ | âŒ |

---

## 9. KEY METRICS (KPIs)

| Metric | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® | Target (Year 1) |
|--------|-----------|-----------------|
| MAU | Monthly Active Users | 5,000 |
| Teams Created | Î£Ï…Î½Î¿Î»Î¹ÎºÎ­Ï‚ Î¿Î¼Î¬Î´ÎµÏ‚ | 1,000 |
| Conversion Rate | Free â†’ Paid | 5% |
| Churn Rate | ÎœÎ·Î½Î¹Î±Î¯Î± Î±Ï€ÏÎ»ÎµÎ¹Î± | <5% |
| NPS | Net Promoter Score | >40 |
| DAU/MAU | Engagement ratio | >30% |

---

## 10. Î¤Î•Î§ÎÎ™ÎšÎ•Î£ Î‘Î Î‘Î™Î¤Î—Î£Î•Î™Î£

### 10.1 System Requirements
- **iOS**: 14.0+
- **Android**: API 24+ (Android 7.0)
- **Web**: Modern browsers (Chrome, Firefox, Safari, Edge)

### 10.2 Firebase Usage
- **Auth**: 10K verifications/month (free tier)
- **Firestore**: 50K reads, 20K writes/day (free tier)
- **Storage**: Base64 encoding used (no Firebase Storage needed currently)

### 10.3 Android Permissions
- `CAMERA` - Photo/video capture
- `RECORD_AUDIO` - Video recording
- `READ_EXTERNAL_STORAGE` - Media access
- `WRITE_EXTERNAL_STORAGE` - Media saving
- `READ_MEDIA_VISUAL_USER_SELECTED` - Scoped storage
- `ACCESS_MEDIA_LOCATION` - GPS exif data
- `READ_MEDIA_IMAGES` - Image gallery
- `READ_MEDIA_VIDEO` - Video gallery
- `READ_MEDIA_AUDIO` - Audio metadata
- `ACCESS_FINE_LOCATION` - GPS coordinates
- `ACCESS_COARSE_LOCATION` - Approximate location

### 10.4 Performance Targets
- App launch: <2 seconds
- Screen transition: <300ms (Î¼Îµ 500ms navigation lock)
- Offline task save: <100ms
- Sync operation: <5 seconds per project
- Image compression: <1 second per image
- Video encoding: <2 seconds per video
- PDF generation: <3 seconds Î³Î¹Î± 20 tasks
- Drawing/annotation: Real-time Î¼Îµ Animated Values

---

**Repository**: `/home/administrator/projects/my-team-app`

**Version**: 1.1.0

**Last Updated**: Î¦ÎµÎ²ÏÎ¿Ï…Î¬ÏÎ¹Î¿Ï‚ 2026
